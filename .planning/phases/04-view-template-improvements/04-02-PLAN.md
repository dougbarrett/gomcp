---
phase: 04-view-template-improvements
plan: 02
type: execute
---

<objective>
Apply WizardEmpty component consistency fix to step_has_many template.

Purpose: Ensure consistent empty state styling between step_select and step_has_many wizard templates.
Output: Updated step_has_many.templ.tmpl using WizardEmpty component for empty states.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04-view-template-improvements/04-01-SUMMARY.md
@.planning/phases/04-view-template-improvements/VIEW-ANALYSIS.md

**Key files:**
@internal/templates/wizard/step_has_many.templ.tmpl
@internal/templates/wizard/step_select.templ.tmpl (reference for WizardEmpty usage)

**Context from 04-01:**
- VIEW-ANALYSIS.md identified one optional consistency improvement
- step_select.templ.tmpl uses `@components.WizardEmpty("title", "description")` for empty states
- step_has_many.templ.tmpl uses inline `<p>` elements for the same purpose
- Both approaches work correctly; this is cosmetic consistency only

**Pattern to follow (from step_select.templ.tmpl line 83):**
```go
@components.WizardEmpty("No options available", "Please add some items first.")
```
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace inline empty states with WizardEmpty component</name>
  <files>internal/templates/wizard/step_has_many.templ.tmpl</files>
  <action>
Replace two inline empty state messages with WizardEmpty component calls:

1. Lines 86-89 (Available Items empty state):
   - Current: `<p class="text-sm text-gray-500 dark:text-gray-400 p-4 text-center">No items available.</p>`
   - Replace with: `@components.WizardEmpty("No items available", "Please add some items first.")`

2. Lines 116-119 (Selected Items empty state):
   - Current: `<p class="text-sm text-gray-500 dark:text-gray-400 p-4 text-center">No items selected yet. Add items from the left.</p>`
   - Replace with: `@components.WizardEmpty("No items selected", "Add items from the available list.")`

The WizardEmpty component is already imported via components package. Both empty states should match the pattern used in step_select.templ.tmpl.
  </action>
  <verify>Rebuild and verify template compiles: go build -o /tmp/gomcp ./cmd/mcp && echo "Build successful"</verify>
  <done>Both inline empty messages replaced with WizardEmpty component calls, template compiles successfully</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `go build -o /tmp/gomcp ./cmd/mcp` succeeds without errors
- [ ] step_has_many.templ.tmpl uses WizardEmpty for both empty states
- [ ] Pattern matches step_select.templ.tmpl usage
</verification>

<success_criteria>

- Task completed
- All verification checks pass
- No build errors introduced
- Consistency achieved between step_select and step_has_many empty states
</success_criteria>

<output>
After completion, create `.planning/phases/04-view-template-improvements/04-02-SUMMARY.md`:

# Phase 4 Plan 2: View Template Improvements Summary

**[Substantive one-liner describing what was done]**

## Performance

- Duration: X min
- Tasks: 1

## Accomplishments

- [What was achieved]

## Files Created/Modified

- `internal/templates/wizard/step_has_many.templ.tmpl` - Updated empty states to use WizardEmpty component

## Decisions Made

[Any decisions, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Phase 4 complete, ready for Phase 5: Draft System Review
</output>
