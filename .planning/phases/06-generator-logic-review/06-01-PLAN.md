---
phase: 06-generator-logic-review
plan: 01
type: execute
---

<objective>
Review scaffold_wizard.go against scaffold_domain.go patterns and document all gaps.

Purpose: Identify all generator-level issues before implementing fixes, ensuring systematic improvement.
Output: Review findings document with specific issues, locations, and fix approaches.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-analysis/ANALYSIS-FINDINGS.md

# Key source files to compare:
@internal/tools/scaffold_wizard.go
@internal/tools/scaffold_domain.go
@internal/modifier/inject.go
@internal/metadata/metadata.go
</context>

<tasks>

<task type="auto">
  <name>Task 1: Compare generator patterns</name>
  <files>internal/tools/scaffold_wizard.go, internal/tools/scaffold_domain.go</files>
  <action>
Compare scaffold_wizard.go (287 lines) against scaffold_domain.go (558 lines) systematically:

1. **Imports**: List imports in scaffold_domain.go missing from scaffold_wizard.go
   - Expected missing: `metadata`, `modifier` packages

2. **Version tracking**: Check for ScaffolderVersion constant
   - scaffold_domain.go has `const ScaffolderVersion = "0.1.0"`

3. **Validation patterns**: Compare validation approaches
   - Both should validate domain names, fields, etc.

4. **DI wiring**: Check if scaffold_wizard calls modifier.Injector methods
   - scaffold_domain.go calls injectDomainWiring() at line 293-317
   - scaffold_wizard.go should have similar wiring for wizard routes

5. **Database migration**: Check for database.go AutoMigrate injection
   - scaffold_domain.go injects model into database.go at line 523-537
   - scaffold_wizard.go should inject WizardDraft model when WithDrafts=true

6. **Metadata tracking**: Check for metadata.Store usage
   - scaffold_domain.go saves metadata at line 357-364
   - scaffold_wizard.go should save wizard scaffold metadata

Document each gap found with line numbers and specific missing functionality.
  </action>
  <verify>List of specific gaps identified with line number references</verify>
  <done>All differences between generators documented with specific locations</done>
</task>

<task type="auto">
  <name>Task 2: Create review findings document</name>
  <files>.planning/phases/06-generator-logic-review/GENERATOR-REVIEW.md</files>
  <action>
Create a structured findings document similar to ANALYSIS-FINDINGS.md format:

1. **Generator Comparison Table**: Side-by-side feature comparison
2. **Issue Catalog**: Each issue with ID, severity, location, current/expected code
3. **Fix Approach**: Specific implementation guidance for each issue

Issues to document (based on analysis):
- GEN-001: Missing modifier import
- GEN-002: Missing metadata import
- GEN-003: No version tracking constant
- GEN-004: No DI wiring injection
- GEN-005: No database.go AutoMigrate injection
- GEN-006: No metadata tracking

Each issue should include:
- Severity (Critical/Medium/Low)
- Location (file and line numbers)
- Current code vs expected code
- Fix approach with code snippets
  </action>
  <verify>cat .planning/phases/06-generator-logic-review/GENERATOR-REVIEW.md shows complete issue catalog</verify>
  <done>Review document created with all issues cataloged and fix approaches defined</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] All gaps between scaffold_wizard.go and scaffold_domain.go documented
- [ ] GENERATOR-REVIEW.md created with structured issue catalog
- [ ] Each issue has severity, location, and fix approach
- [ ] Document committed to git
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Review findings document comprehensive and actionable
- Ready for Phase 6 Plan 02 implementation
</success_criteria>

<output>
After completion, create `.planning/phases/06-generator-logic-review/06-01-SUMMARY.md`:

# Phase 6 Plan 1: Review Generator Patterns Summary

**[One-liner describing key findings]**

## Accomplishments

- [Key findings]

## Files Created/Modified

- `.planning/phases/06-generator-logic-review/GENERATOR-REVIEW.md` - Issue catalog

## Decisions Made

[Any decisions about fix approach]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Ready for 06-02-PLAN.md (Fix generator logic issues)
</output>
